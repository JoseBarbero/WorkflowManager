\chapter{Introducción} 
\label{chap:intro}

\vspace{-0.2cm}

\lsection{Motivación del proyecto}
Ejemplo de referencia a la bibliografía~\cite{article:Ejemplo}.

Ejemplo de imagen:
\begin{figure}[h]
  \centerline{
    \mbox{\includegraphics[width=3.00in]{images/logo_eps.eps}}
  }
  \caption{Ejemplo pie de figura 1}
  \label{fig:norm_Daugman}
\end{figure}

\section{Objetivos y enfoque}

\section{Metodología y plan de trabajo}
\subsection{Metodología}

\subsection{Plan de Trabajo}
\subsubsection{Sprint 1 (18/9/2018 - 3/10/2018)}
El primer sprint ha estado centrado tanto en definir con más exactitud la dirección del proyecto como en un primer acercamiento a las principales herramientas con las que va a desarrollarse. 

Tras unos primeros pasos con Galaxy \cite{1} y Docker \cite{2}, se ha tomado como referencia el trabajo Bioinfworkflow de Sergio Chico \cite{3} como base para la imagen Docker del proyecto. Dado que el proyecto de Github daba algunos problemas en la instalación, se ha desarrollado un script propio que produce los mismos resultados.

Una vez se ha tenido disponible la imagen de Docker, el sprint se ha centrado en algunos aspectos importantes para partes futuras del desarrollo. Entre ellos destaca la investigación acerca del formato de los workflows de Galaxy (.ga) ya que en un futuro será necesario generar este tipo de ficheros para introducirlos en Galaxy. También resulta relevante la investigación acerca de las posibilidades que ofrece la API de Galaxy \cite{3} y su utilidad en Bioblend \cite{4}, que nos facilitan la opción de utilizar Galaxy sin necesidad de hacerlo a través de su interfaz.

\subsubsection{Sprint 2 (4/10/2018 - 17/10/2018)}
La primera semana de este sprint ha estado dirigida a lograr una imagen Docker de Galaxy que contenga un set de herramientas básicas para formar un primer workflow. Se han valorado varias opciones de instalación en las que se han utilizado tanto la imagen básica de Galaxy \cite{6} como la imagen de Bioinfworkflow \cite{3}. Finalmente se ha optado por utilizar Bioinforworkflow ya que parte de las herramientas necesarias ya estaban incluidas. 
Para realizar esta tarea se ha creado un nuevo fichero Dockerfile así como el listado de herramientas necesarias para su instalación.

\subsubsection{Sprint 3 (18/10/2018 - 31/10/2018)}
El sprint ha estado centrado en la correcta ejecución del workflow con las herramientas iniciales desde Galaxy. Durante el proceso de configuración han surgido varias complicaciones que han impedido terminar el workflow completo en este sprint. 
En un principio han surgido problemas con el filtrado de calidad utilizando Prinseq. Este problema no ha llegado a ser resuelto en este sprint a falta de tratar el tema con el grupo de Tecnofood.
A continuación se encontraron ciertos problemas con el formato de salida de la herramienta Prokka. A pesar de que la salida está marcada como formato gff3, un parámetro interno lo etiquetaba como gff. Esto impedía que la salida de Prokka fuese introducida como input en las herramientas siguientes.

Dados estos errores, se decidió trabajar en paralelo con la API de Galaxy desde Python para intentar ejecutar tanto las herramientas como el workflow de una manera menos restringida. Finalmente se ha llevado a cabo el desarrollo necesario para subir los ficheros a un historial y ejecutar cada una de las herramientas del workflow desde Python.

\subsubsection{Sprint 4 (1/11/2018 - 14/11/2018)}
La prioridad en este punto se ha centrado en completar el workflow desde Galaxy. Han surgido varios problemas en esta tarea. La primera es un bug en Mac por el cual los archivos eliminados dentro de Docker no se eliminan del todo y quedan fijados en un fichero residual. Esto implica que cada cierto tiempo hay que eliminar la imagen completa de Docker para poder liberar espacio, dado el gran tamaño de los archivos con los que se trabaja. Debido a ello, la tarea de completar el workflow se ha visto retrasada. Además, la ejecución de la herramienta Roary a través de Galaxy ejecuta sin errores pero no devuelve ningún resultado, lo que ha impedido continuar con la parte final del workflow. 

Además de la tarea ya comentada, en este sprint se ha trabajado en el acceso al contenedor Docker desde otro ordenador en una red local. Con el objetivo de desplegar el servicio en un servidor.

También se ha tomado contacto con la interfaz gráfica, realizando unas pruebas en las que simplemente se muestra alguna información extraída de la API de Galaxy en etiquetas creadas con PyQt.



\newpage \thispagestyle{empty} % Página vacía 